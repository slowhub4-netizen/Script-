--// SlowHub UI - Optimized for Smooth Tab Handling
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser") -- Service d√πng ƒë·ªÉ gi·∫£ l·∫≠p click chu·ªôt

-- C√°c b·∫£ng l∆∞u tr·ªØ ƒë·ªÉ qu·∫£n l√Ω c√°c ƒë·ªëi t∆∞·ª£ng UI
local Tabs = {} -- L∆∞u tr·ªØ c√°c n√∫t Tab (Sidebar Buttons)
local ContentFrames = {} -- L∆∞u tr·ªØ c√°c Khung N·ªôi dung t∆∞∆°ng ·ª©ng

-- Gui Container
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.ResetOnSpawn = false
ScreenGui.Name = "SlowHubUI"

-- Function th√™m g√≥c bo
local function makeRound(obj, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius)
    corner.Parent = obj
end

-- Function Qu·∫£n l√Ω Tab (T·ªëi ∆∞u h√≥a vi·ªác chuy·ªÉn ƒë·ªïi)
local function switchTab(tabName)
    -- L·∫∑p qua t·∫•t c·∫£ c√°c Khung N·ªôi dung
    for name, frame in pairs(ContentFrames) do
        [span_0](start_span)frame.Visible = (name == tabName) -- Ch·ªâ hi·ªán th·ªã khung n·ªôi dung kh·ªõp v·ªõi tabName[span_0](end_span)
    end

    -- L·∫∑p qua t·∫•t c·∫£ c√°c N√∫t Tab ƒë·ªÉ thay ƒë·ªïi m√†u s·∫Øc
    for name, button in pairs(Tabs) do
        [span_1](start_span)if name == tabName then --[span_1](end_span)
            [span_2](start_span)button.BackgroundColor3 = Color3.fromRGB(200, 200, 200) -- M√†u l√†m n·ªïi b·∫≠t[span_2](end_span)
        else
            [span_3](start_span)button.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- M√†u n·ªÅn m·∫∑c ƒë·ªãnh[span_3](end_span)
        end
    end
end

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0, 700, 0, 480)
MainFrame.Position = UDim2.new(0.5, -350, 0.5, -240)
MainFrame.BackgroundColor3 = Color3.fromRGB(244, 244, 244)
[span_4](start_span)MainFrame.Active = true --[span_4](end_span)
MainFrame.Draggable = true
MainFrame.BorderSizePixel = 0
makeRound(MainFrame, 12)

-- Title Bar
local TitleBar = Instance.new("Frame", MainFrame)
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TitleBar.BorderSizePixel = 0
makeRound(TitleBar, 10)

local Title = Instance.new("TextLabel", TitleBar)
Title.Size = UDim2.new(1, -100, 1, 0)
Title.Position = UDim2.new(0, 20, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "‚öîÔ∏è Blox Fruits SlowHub Pro"
Title.TextColor3 = Color3.fromRGB(0, 0, 0)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 22
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Minimize Button
local MinBtn = Instance.new("TextButton", TitleBar)
MinBtn.Size = UDim2.new(0, 45, 1, -10)
MinBtn.Position = UDim2.new(1, -95, 0, 5)
MinBtn.Text = "‚Äì"
MinBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MinBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
[span_5](start_span)MinBtn.Font = Enum.Font.SourceSansBold --[span_5](end_span)
MinBtn.TextSize = 24
makeRound(MinBtn, 8)

-- Close Button
local CloseBtn = Instance.new("TextButton", TitleBar)
CloseBtn.Size = UDim2.new(0, 45, 1, -10)
CloseBtn.Position = UDim2.new(1, -50, 0, 5)
CloseBtn.Text = "X"
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
CloseBtn.Font = Enum.Font.SourceSansBold
CloseBtn.TextSize = 24
makeRound(CloseBtn, 8)

-- Sidebar
local Sidebar = Instance.new("Frame", MainFrame)
Sidebar.Size = UDim2.new(0, 180, 1, -40)
Sidebar.Position = UDim2.new(0, 0, 0, 40)
Sidebar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Sidebar.BorderSizePixel = 0
makeRound(Sidebar, 10)

-- Content Area
local ContentArea = Instance.new("Frame", MainFrame)
ContentArea.Size = UDim2.new(1, -180, 1, -40)
ContentArea.Position = UDim2.new(0, 180, 0, 40)
ContentArea.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ContentArea.BorderSizePixel = 0
makeRound(ContentArea, 10)

-- Function t·∫°o N√∫t Tab
[span_6](start_span)local function createTabButton(tabName, yOffset) --[span_6](end_span)
    local TabBtn = Instance.new("TextButton", Sidebar)
    TabBtn.Name = tabName
    TabBtn.Size = UDim2.new(1, -20, 0, 40)
    TabBtn.Position = UDim2.new(0, 10, 0, yOffset)
    TabBtn.Text = tabName
    TabBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TabBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
    TabBtn.Font = Enum.Font.SourceSansBold
    TabBtn.TextSize = 18
    makeRound(TabBtn, 8)

    TabBtn.MouseButton1Click:Connect(function()
        switchTab(tabName)
    end)
  
    [span_7](start_span)Tabs[tabName] = TabBtn --[span_7](end_span)
    return TabBtn
end

-- Function t·∫°o Khung N·ªôi dung Tab
local function createContentFrame(tabName)
    local ContentFrame = Instance.new("Frame", ContentArea)
    ContentFrame.Name = tabName .. "Content"
    ContentFrame.Size = UDim2.new(1, 0, 1, 0)
    ContentFrame.BackgroundTransparency = 1
    ContentFrame.Visible = false
    
    ContentFrames[tabName] = ContentFrame
    return ContentFrame
end

----------------------------------------------------
--          T·∫°o Tab v√† N·ªôi dung Tab
----------------------------------------------------

-- 1. Tab Trang Ch·ªß
[span_8](start_span)local HomeBtn = createTabButton("Trang Ch·ªß", 10) --[span_8](end_span)
local HomeContent = createContentFrame("Trang Ch·ªß")

local HomeLabel = Instance.new("TextLabel", HomeContent)
HomeLabel.Size = UDim2.new(1, 0, 0, 30)
HomeLabel.Position = UDim2.new(0, 0, 0, 10)
HomeLabel.Text = "Ch√†o m·ª´ng ƒë·∫øn v·ªõi Blox Fruits Hub!"
[span_9](start_span)HomeLabel.BackgroundTransparency = 1 --[span_9](end_span)
HomeLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
HomeLabel.Font = Enum.Font.SourceSans
HomeLabel.TextSize = 20

-- 2. Tab FARMING
local FarmingBtn = createTabButton("FARMING", 60)
local FarmingContent = createContentFrame("FARMING")

local FarmingLabel = Instance.new("TextLabel", FarmingContent)
FarmingLabel.Size = UDim2.new(1, 0, 0, 30)
FarmingLabel.Position = UDim2.new(0, 0, 0, 10)
FarmingLabel.Text = "‚öôÔ∏è Auto Farm Bandit (Test)"
FarmingLabel.BackgroundTransparency = 1
FarmingLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
FarmingLabel.Font = Enum.Font.SourceSansBold
FarmingLabel.TextSize = 24

local AutoFarmToggle = Instance.new("TextButton", FarmingContent)
AutoFarmToggle.Size = UDim2.new(0, 200, 0, 40)
AutoFarmToggle.Position = UDim2.new(0, 20, 0, 60)
[span_10](start_span)AutoFarmToggle.Text = "‚ö´ Auto Farm Bandit (T·∫ÆT)" --[span_10](end_span)
AutoFarmToggle.BackgroundColor3 = Color3.fromRGB(220, 220, 220)
AutoFarmToggle.TextColor3 = Color3.fromRGB(0, 0, 0)
AutoFarmToggle.Font = Enum.Font.SourceSans
AutoFarmToggle.TextSize = 18
makeRound(AutoFarmToggle, 8)


-- ====================================================
--       CODE ƒê√É S·ª¨A: Logic Auto Farm Bandit
-- ====================================================

local function farmLevelTask()
    -- 1. T√¨m qu√°i v·∫≠t "Bandit" trong th∆∞ m·ª•c Enemies ho·∫∑c Workspace
    local target = workspace.Enemies:FindFirstChild("Bandit") or workspace:FindFirstChild("Bandit")

    -- 2. Ki·ªÉm tra ƒëi·ªÅu ki·ªán (Qu√°i t·ªìn t·∫°i, c√≥ m√°u)
    if target and target:FindFirstChild("Humanoid") and target.Humanoid.Health > 0 then
        
        -- 3. Teleport ra sau l∆∞ng qu√°i (kho·∫£ng c√°ch 5 ƒë∆°n v·ªã)
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and target:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = target.HumanoidRootPart.CFrame * CFrame.new(0, 0, 5)
        end

        -- 4. T·ª± ƒë·ªông ƒë√°nh (Gi·∫£ l·∫≠p click chu·ªôt tr√°i)
        -- S·ª≠ d·ª•ng VirtualUser ƒë·ªÉ click chu·ªôt th·∫≠t
        VirtualUser:CaptureController()
        VirtualUser:ClickButton1(Vector2.new(851, 158), workspace.CurrentCamera.CFrame)
        
        -- Debug: In ra ƒë·ªÉ bi·∫øt ƒëang ƒë√°nh
        -- print("ƒêang ƒë√°nh Bandit...") 
    end
    
    -- Ch·ªù r·∫•t ng·∫Øn ƒë·ªÉ ƒë√°nh li√™n t·ª•c
    wait(0.1) 
end

local isFarming = false
local farmThread = nil 

-- Logic Toggle
AutoFarmToggle.MouseButton1Click:Connect(function()
    isFarming = not isFarming
    
    if isFarming then
        AutoFarmToggle.Text = "üü¢ Auto Farm Bandit (B·∫¨T)"
        AutoFarmToggle.BackgroundColor3 = Color3.fromRGB(144, 238, 144) -- Xanh l√°
        
        -- CH·∫†Y LOGIC FARM
        [span_11](start_span)farmThread = coroutine.wrap(function() --[span_11](end_span)
            while isFarming do
                pcall(farmLevelTask) 
                RunService.Heartbeat:Wait() -- T·ªëi ∆∞u h√≥a v√≤ng l·∫∑p
            end
            farmThread = nil 
        end)()
        
    else
        AutoFarmToggle.Text = "‚ö´ Auto Farm Bandit (T·∫ÆT)"
        [span_12](start_span)AutoFarmToggle.BackgroundColor3 = Color3.fromRGB(220, 220, 220) -- X√°m[span_12](end_span)
        -- Khi isFarming = false, v√≤ng l·∫∑p while t·ª± d·ª´ng
    end
end)


----------------------------------------------------
--             Logic Ch·ª©c nƒÉng C∆° b·∫£n
----------------------------------------------------

-- Popup Confirm
local Confirm = Instance.new("Frame", ScreenGui)
Confirm.Size = UDim2.new(0, 300, 0, 150)
Confirm.Position = UDim2.new(0.5, -150, 0.5, -75)
Confirm.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Confirm.BorderSizePixel = 1
Confirm.Visible = false
makeRound(Confirm, 10)

local ConfirmText = Instance.new("TextLabel", Confirm)
ConfirmText.Size = UDim2.new(1, 0, 0.5, 0)
ConfirmText.BackgroundTransparency = 1
ConfirmText.Text = "B·∫°n c√≥ mu·ªën tho√°t Blox Fruits Hub?" -[span_13](start_span)-[span_13](end_span)
ConfirmText.TextColor3 = Color3.fromRGB(0, 0, 0)
ConfirmText.Font = Enum.Font.SourceSansBold
ConfirmText.TextSize = 18

local YesBtn = Instance.new("TextButton", Confirm)
YesBtn.Size = UDim2.new(0.5, -10, 0, 40)
YesBtn.Position = UDim2.new(0, 5, 0.65, 0)
YesBtn.Text = "C√≥"
YesBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
YesBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
YesBtn.Font = Enum.Font.SourceSansBold
YesBtn.TextSize = 18
makeRound(YesBtn, 8)

local NoBtn = Instance.new("TextButton", Confirm)
NoBtn.Size = UDim2.new(0.5, -10, 0, 40)
NoBtn.Position = UDim2.new(0.5, 5, 0.65, 0)
NoBtn.Text = "Kh√¥ng"
NoBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
NoBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
NoBtn.Font = Enum.Font.SourceSansBold
NoBtn.TextSize = 18
makeRound(NoBtn, 8)

-- Logic Minimize
local minimized = false
local oldSize = MainFrame.Size
MinBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        oldSize = MainFrame.Size
        [span_14](start_span)MainFrame.Size = UDim2.new(0, 700, 0, 40) -- K√≠ch th∆∞·ªõc thu nh·ªè[span_14](end_span)
        Sidebar.Visible = false
        ContentArea.Visible = false
    else
        MainFrame.Size = oldSize
        Sidebar.Visible = true
        ContentArea.Visible = true
    end
end)

-- Logic Close/Confirm
CloseBtn.MouseButton1Click:Connect(function()
    Confirm.Visible = true
end)

YesBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

NoBtn.MouseButton1Click:Connect(function()
    Confirm.Visible = false
end)

-- Hi·ªÉn th·ªã Tab m·∫∑c ƒë·ªãnh
[span_15](start_span)switchTab("FARMING") --[span_15](end_span)
